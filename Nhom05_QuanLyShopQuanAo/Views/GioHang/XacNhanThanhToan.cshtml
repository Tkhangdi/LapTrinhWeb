@using Nhom05_QuanLyShopQuanAo.Models
@model GioHang

<div class="container" style="padding-top:200px">
    <h2>Xác Nhận Thanh Toán</h2>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Tên Sản Phẩm</th>
                <th>Giá</th>
                <th>Số Lượng</th>
                <th>Size</th>
                <th>Tổng Tiền</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.lst)
            {
                <tr>
                    <td>@item.TenSanPham</td>
                    <td>@String.Format("{0:0,0} VND", item.Gia)</td>
                    <td>@item.SoLuong</td>
                    <td>@item.Size</td>
                    <td>@String.Format("{0:0,0} VND", item.ThanhTien)</td>
                </tr>
            }
            <tr>
                <td colspan="4" class="text-right"><strong>Tổng Tiền:</strong></td>
                <td>@String.Format("{0:0,0} VND", Model.lst.Sum(t => t.ThanhTien))</td>
            </tr>
        </tbody>
    </table>

    <h4>Chọn Phương Thức Thanh Toán:</h4>
    <form action="@Url.Action("DatHang", "GioHang")" method="post">
        <div class="form-check" style="padding-left:20px">
            <input class="form-check-input" type="radio" name="phuongThucThanhToan" value="Tiền mặt" id="cod" checked>
            <label class="form-check-label" for="cod">
                Tiền mặt
            </label>
        </div>
        <div class="form-check" style="padding-left:20px">
            <input class="form-check-input" type="radio" name="phuongThucThanhToan" value="Chuyển khoản" id="online">
            <label class="form-check-label" for="online">
                Chuyển khoản
            </label>
        </div>
        <br />
        <button type="submit" onclick="showAlert()" class="btn btn-success">Xác Nhận Thanh Toán</button>
    </form>

    <a href="@Url.Action("Index", "GioHang")" class="btn btn-secondary" style=" margin-top:15px">Quay Lại Giỏ Hàng</a>
</div>


<script>
    function showAlert() {
        const userConfirmed = confirm('Bạn có chắc chắn muốn đặt hàng không?');
        if (userConfirmed) {
            alert('Đặt hàng thành công!');
            // Thực hiện logic đặt hàng ở đây (nếu cần)
        } else {
            alert('Bạn đã hủy đặt hàng!');
        }
    }
</script>


